# Wallet-Service

Данный проект представляет собой консольное приложение для управления кредитными/дебетовыми транзакциями игроков.

## Описание

Денежный счет игрока содержит текущий баланс, который можно изменить, регистрировав транзакции на счете. Транзакции
могут быть как дебетовыми (удаление средств), так и кредитными (добавление средств).

## Требования


- Репозитории теперь должны писать ВСЕ сущности в БД PostgreSQL.
- Идентификаторы при сохранении в БД должны выдаваться через sequence
- DDL-скрипты на создание таблиц и скрипты на предзаполнение таблиц должны выполняться только инструментом миграции
  Liquibase
- Скрипты миграции Luiqbase должны быть написаны только в нотации XML
- Скриптов миграции должно быть несколько. Как минимум один на создание всех таблиц, другой - не предзаполнение данными
- Служебные таблицы должны быть в отдельной схеме
- Таблицы сущностей хранить в схеме public запрещено
- В тестах необходимо использовать test-containers
- В приложении должен быть docker-compose.yml, в котором должны быть прописаны инструкции для развертывания postgre в
  докере. Логин, пароль и база должны быть отличными от тех, что прописаны в образе по-умолчанию. Приложение должно
  работать с БД, развернутой в докере с указанными параметрами.
- Приложение должно поддерживать конфиг-файлы. Всё, что относится к подключению БД, а также к миграциям, должно быть
  сконфигурировано через конфиг-файл

## Функциональности

Приложение предоставляет следующие функциональности:

- **Регистрация игрока:** Пользователь может зарегистрировать нового игрока.

- **Авторизация игрока:** Существующие игроки могут авторизоваться.

- **Просмотр текущего баланса игрока:** Пользователь может проверить текущий баланс своего счета.

- **Дебет/снятие средств:** Пользователь может совершать дебетовые транзакции (снимать средства) с проверкой на наличие
  достаточного баланса. Идентификаторы транзакций должны быть уникальными.

- **Кредит/пополнение средств:** Пользователь может совершать кредитные транзакции (пополнять счет) с проверкой
  уникальности идентификаторов транзакций.

- **Просмотр истории транзакций:** Пользователь может просматривать историю пополнений и снятий средств.

- **Аудит действий игрока:** Ведется аудит действий игрока, включая авторизацию, завершение работы, пополнения, снятия и
  другие операции.

## Запуск

**Чтобы запустить приложение, выполните следующие шаги:**

## Шаг 1: Установка Docker

Убедитесь, что у вас установлен Docker. Если нет, вы можете скачать и установить его с [официального сайта Docker](https://www.docker.com/).
## Шаг 2: Запуск Docker
Убедитесь что Docker запущен на вашей машине.
## Шаг 3: Запуск БД (postgresql) через docker-compose.
1. Откройте терминал и перейдите в корневую директорию проекта
2. Запустите приложение с использованием 'docker-compose':
``` bash
docker-compose up -d
```
Это загрузит все необходимые зависимости и запустит контейнер с БД postgres.

## Шаг 4: Запуск JAR файла
1. Откройте терминал и перейдите в каталог `target/`
```bash
cd target/
```
2. Запустите JAR файл Java приложения с помощью команды:
```bash
java -jar Wallet-Service-1.0-SNAPSHOT-jar-with-dependencies.jar
```
Теперь Java приложение должно быть успешно запущено с использованием Docker и `docker-compose`.
